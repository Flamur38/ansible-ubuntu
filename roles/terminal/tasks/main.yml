# --------------------------------------------------
# GNOME Terminal â€“ flamy_soc profile
# --------------------------------------------------

- name: Generate UUID for flamy_soc profile
  become: false
  command: uuidgen
  register: flamy_soc_uuid
  changed_when: false

# --------------------------------------------------
# Add profile to GNOME Terminal
# --------------------------------------------------
- name: Add flamy_soc profile to profile list
  become: false
  command: >
    gsettings set org.gnome.Terminal.ProfilesList list
    "$(gsettings get org.gnome.Terminal.ProfilesList list | sed "s/]$/, '{{ flamy_soc_uuid.stdout }}']/")"

# --------------------------------------------------
# Set flamy_soc as default profile
# --------------------------------------------------
- name: Set flamy_soc as default profile
  become: false
  command: >
    gsettings set org.gnome.Terminal.ProfilesList default '{{ flamy_soc_uuid.stdout }}'

# --------------------------------------------------
# Set visible profile name
# --------------------------------------------------
- name: Set flamy_soc profile name
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    visible-name 'flamy_soc'

# --------------------------------------------------
# Global terminal settings
# --------------------------------------------------
- name: Disable terminal menubar
  become: false
  command: >
    gsettings set org.gnome.Terminal.Legacy.Settings default-show-menubar false

# --------------------------------------------------
# Profile settings
# --------------------------------------------------
- name: Disable terminal bell
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    audible-bell false

- name: Enable custom font
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    use-system-font false

- name: Set font to Monospace 15
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    font 'Monospace 15'

- name: Disable theme colors
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    use-theme-colors false

- name: Set foreground color
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    foreground-color '#D3D7CF'

- name: Set background color
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    background-color '#1E1E1E'

- name: Enable cursor color
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    cursor-colors-set true

- name: Set cursor color
  become: false
  command: >
    gsettings set
    org.gnome.Terminal.Legacy.Profile:/org/gnome/terminal/legacy/profiles:/:{{ flamy_soc_uuid.stdout }}/
    cursor-background-color '#E95420'
